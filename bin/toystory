#!/usr/bin/env ruby

require 'optparse'
require 'methadone'
require 'validations'
require 'robot'

class App
  include Methadone::Main
  include Methadone::CLILogging
  extend Validations

  main do |file|
    adam = Robot.new
    
    File.readlines(file).each do |line|
      adam.move!(line)
    end  
  end

  version     Toystory::VERSION
  description "Drive a nifty little virtual robot on a 5x5 grid"
  arg         :file, :required
  
  use_log_level_option

  go!
end
