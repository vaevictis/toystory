#!/usr/bin/env ruby

require 'optparse'
require 'methadone'
require 'toystory'
require 'validations'

class App
  include Methadone::Main
  include Methadone::CLILogging
  extend Validations

  main do |file|
    File.readlines(file).each do |line|
      # Validate line syntax
      if validate_movement(line)
        p "Valid move"
      # Validate movement safety
      
      # Do movement
      
      # Output movement
      else
        p 'Wrong move'
      end
    end  
  end

  description "Drive a nifty little virtual robot on a 5x5 grid"


  arg :file  
  arg :moves, :optional

  version Toystory::VERSION

  use_log_level_option

  go!
end
